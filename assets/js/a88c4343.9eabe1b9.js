"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8282],{5318:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>d});var n=r(7378);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=c(r),d=o,f=m["".concat(l,".").concat(d)]||m[d]||u[d]||a;return r?n.createElement(f,s(s({ref:t},p),{},{components:r})):n.createElement(f,s({ref:t},p))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9022:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(7378),o=r(9619);function a(e){let{header:t,updated:r,version:a}=e;return n.createElement(o.Z,{text:"v"+a,variant:r?"success":"info",className:t?"absolute right-0 top-1.5":"ml-2"})}},9619:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7378),o=r(8944),a=r(8896);const s={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function i(e){let{className:t,icon:r,text:i,variant:l}=e;return n.createElement("span",{className:(0,o.Z)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",l?s[l]:"bg-gray-100 text-gray-800",t)},r&&n.createElement(a.Z,{icon:r,className:"mr-1"}),i)}},390:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=r(5773),o=(r(7378),r(5318)),a=r(9022);const s={title:"query projects",sidebar_label:"projects"},i=void 0,l={unversionedId:"commands/query/projects",id:"commands/query/projects",title:"query projects",description:"Use the moon query projects sub-command to query information about all projects in the project",source:"@site/docs/commands/query/projects.mdx",sourceDirName:"commands/query",slug:"/commands/query/projects",permalink:"/docs/commands/query/projects",draft:!1,editUrl:"https://github.com/moonrepo/moon/tree/master/website/docs/commands/query/projects.mdx",tags:[],version:"current",frontMatter:{title:"query projects",sidebar_label:"projects"},sidebar:"docs",previous:{title:"query",permalink:"/docs/commands/query"},next:{title:"touched-files",permalink:"/docs/commands/query/touched-files"}},c={},p=[{value:"Affected projects",id:"affected-projects",level:3},{value:"Options",id:"options",level:3}],u={toc:p};function m(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(a.Z,{header:!0,version:"0.6",mdxType:"VersionLabel"}),(0,o.kt)("p",null,"Use the ",(0,o.kt)("inlineCode",{parentName:"p"},"moon query projects")," sub-command to query information about all projects in the project\ngraph. The project list can be filtered by passing ",(0,o.kt)("a",{parentName:"p",href:"#options"},"options"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"# Find all projects\n$ moon query projects\n\n# Find all projects with an id that matches \"react\"\n$ moon query projects --id react\n\n# Find all projects with a `lint` or `build` task\n$ moon query projects --tasks 'lint|build'\n")),(0,o.kt)("p",null,"This will return a list of project objects with the following structure:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"{\n    projects: Project[],\n    options: QueryOptions,\n}\n")),(0,o.kt)("h3",{id:"affected-projects"},"Affected projects"),(0,o.kt)("p",null,"This command can also be used to query for affected projects, based on the state of the VCS working\ntree. For advanced control, you can also pass the results of ",(0,o.kt)("inlineCode",{parentName:"p"},"moon query touched-files")," to stdin."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"# Find all affected projects\n$ moon query projects --affected\n\n# Find all affected projects using the results of another query\n$ moon query touched-files | moon query projects --affected\n")),(0,o.kt)("h3",{id:"options"},"Options"),(0,o.kt)("p",null,"All values are case-insensitive regex patterns."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--alias <regex>")," - Filter projects that match this alias."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--affected")," - Filter projects that have been affected by touched files."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--id <regex>")," - Filter projects that match this ID/name."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--language <regex>")," - Filter projects of this programming language."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--source <regex>")," - Filter projects that match this source path."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--tasks <regex>")," - Filter projects that have the following tasks."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--type <regex>")," - Filter project of this type.")))}m.isMDXComponent=!0}}]);